name: Create release

on:
  push:
    paths-ignore:
      - 'setup.py'
    branches:
      - prod
      - generate-release

jobs:
  generate_release:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up Python 3.9
        uses: actions/setup-python@v3
        with:
          python-version: 3.9

      - name: Install dependencies
        run: |
          pip install -r requirements.txt
          pip install -r requirements-dev.txt
      
      - name: Generate release
        run: |
          ls
          # pyinstaller --noconfirm --onedir --windowed --icon "C:/Maua/Arquitetura/BIPy/processador_bip_em_python/src/GUI/assets/icone.ico" --name "BIPy" --add-data "C:/Maua/Arquitetura/BIPy/processador_bip_em_python/src;src/"  "C:/Maua/Arquitetura/BIPy/processador_bip_em_python/src/main.py"